<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE> Give Me A Random Picture </TITLE>
<!--- This is the link to the stylesheet we will be using ---->
<LINK rel="stylesheet" type="text/css" href="style/style.css">



<!-- Load a text file and generate a word -->
<script>

var words = new Array();
words[0] = "Coffee";words[1] = "Beans";words[3] = "Computer";words[4] = "Word";words[5] = "Dog";words[6] = "Doge";words[7] = "Cat";words[8] = "Rat";words[9] = "Mat";
words[10] = "Liquid";words[11] = "Dirty";words[12] = "Mouse";words[13] = "Four";words[14] = "Tinman";words[15] = "Wrapper";words[16] = "Tree";words[17] = "Ohio";
words[18] = "Shark";words[19] = "Spear";words[20] = "Red Bull";words[21] = "Slap";words[22] = "Internet";words[23] = "Black";words[24] = "Snapple";words[25] = "Meme";
words[26] = "USB";words[27] = "Fire";words[28] = "Police";words[29] = "Shirt";words[30] = "Shoes";words[31] = "Muffin";words[32] = "Car Keys";words[33] = "Gypsy";
words[34] = "Trap";words[35] = "Snack";words[36] = "Goal";words[37] = "Goat";words[38] = "Bag";words[39] = "Red";words[40] = "Marker";words[41] = "Nike";
words[42] = "Robot";

function getWord() {
	var randomNum = Math.floor((Math.random()*42)+0);  //Create random number to choose array
	var word = words[randomNum];
	
	return word;
}

</script>



<!-- Image grabber -->
<script src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

      google.load('search', '1');

      var imageSearch;
	  var searchTerm = getWord();
	  
	  function initSearch(){
		google.load('search', '1');
		searchTerm = getWord();
		var content = document.getElementById('Picture');
		
		content.removeChild(content.lastChild);
		
		//while(content.hasChildNodes()){
			//content.removeChild(content.lastChild);
		//}
		
		OnLoad();
		//google.setOnLoadCallback(OnLoad);
	  }

      function searchComplete() {

        // Check that we got results
        if (imageSearch.results && imageSearch.results.length > 0) {

          // Grab our content div, clear it.
          var contentDiv = document.getElementById('Picture');

          // Loop through our results, printing them to the page.
          var results = imageSearch.results;
			// For each result write it's title and image to the screen
			var result = results[0];
			
			// We use titleNoFormatting so that no HTML tags are left in the 
			// title
			var newImg = document.createElement('img');
			var holderDiv = document.createElement('div');
			newImg.style.float = "left"
			newImg.style.marginTop= "50px";
			newImg.style.marginLeft="15%";
			
			
			var imgW = result.width;
			var imgH = result.height;
			
			var ratio = 1.0;
			
			if(imgW > 600 || imgH > 350){
				if(600/imgW < 350/imgH){
					ratio = 600/imgW;
				}else{
					ratio = 350/imgH;
				}
			}

			newImg.style.width = imgW*ratio + "px";
			newImg.style.height = imgH*ratio + "px";
			newImg.style.paddingLeft = ((600 - Math.floor(imgW*ratio))/2) + "px";
			newImg.style.paddingRight = ((600- Math.floor(imgW*ratio))/2) + "px";
			newImg.style.paddingTop = ((350 - Math.floor(imgH*ratio))/2) + "px";
			//alert(((600 - newImg.style.width)/2));
			
			// There is also a result.url property which has the escaped version
			newImg.src=result.url;
			holderDiv.appendChild(newImg);
			contentDiv.appendChild(holderDiv);
        }else{
			alert("No images found :(");
		}
      }

      function OnLoad() {
      
        // Create an Image Search instance.
        imageSearch = new google.search.ImageSearch();

        // Set searchComplete as the callback function when a search is 
        // complete.  The imageSearch object will have results in it.
        imageSearch.setSearchCompleteCallback(this, searchComplete, null);
		
		searchTerm = getWord();
		
        // Find me a beautiful car.
        imageSearch.execute(searchTerm);
        
        // Include the required Google branding
        google.search.Search.getBranding('branding');
      }
      google.setOnLoadCallback(OnLoad);
	  
	  function getImageWord(){
		return searchTerm;
	  }
    </script>
	
</head>
<body>






<div id="Picture">

<div id="content"></div>

</div>

<div id="Hangman">
</div>

<div id="Bank">
</div>

<div id="Words">
</div>

<div id="content">
</div>






</body>

<!-- Update Hangman image -->
<script>

var wrongGuesses = 0;
var imageURL = "images/Hangman";
var div = document.getElementById("Hangman");
initHangman();

function initHangman(){
	wrongGuesses = 0;
	var picture = document.createElement('img');
	
	div = document.getElementById("Hangman");
	while(div.firstChild){
		div.removeChild(div.firstChild);
	}
	
	picture.src = imageURL + "0" + ".png";
	div.appendChild(picture);
}

function guessedWrong(){
	wrongGuesses++;
	
	var picture = document.createElement('img');
	picture.src = imageURL + wrongGuesses + ".png";
	
	div = document.getElementById("Hangman");
	
	while(div.firstChild){
		div.removeChild(div.firstChild);
	}
	
	div.appendChild(picture);
}
</script>	

<!-- Create Bank and Handle Guesses -->
<script>

var div2 = document.getElementById('Bank');
var text = document.createElement('div');
text.innerHTML = "Bank";
text.style.fontSize = "24px";
text.style.fontWeight = "bold";
text.style.textDecoration = "underline"
text.style.paddingLeft = "250px";

var word = getImageWord().toUpperCase();
var size = uniqueSize();
var goodGuesses = new Array();
var badGuesses = new Array();

div2.appendChild(text);

createButtons();

function initBank(){
	word = getImageWord().toUpperCase();
	size = uniqueSize();
	goodGuesses = new Array();
	badGuesses = new Array();
	
	var bank = document.getElementById('Bank');
	while(bank.childNodes.length > 2){
		bank.removeChild(bank.lastChild);
	}
	var text = document.createElement('div');
	text.innerHTML = "Bank";
	text.style.fontSize = "24px";
	text.style.fontWeight = "bold";
	text.style.textDecoration = "underline"
	text.style.paddingLeft = "250px";
	
	createButtons();
}

function createButtons(){
	var buttonDiv = document.createElement('div');
	buttonDiv.id = "buttonDiv";
	buttonDiv.style.fontSize = "48px";
	buttonDiv.style.fontWeight = "bold";
	buttonDiv.style.textAlign = "center";
	
	
	for(var i = 1; i < 27; i++){
		buttonDiv.innerHTML = buttonDiv.innerHTML + 
		'<button onclick="button_click(this)" enabled="true" value="' + String.fromCharCode(64 + i) + '"> ' + String.fromCharCode(64 + i)  + ' </button>';
	
		if(i % 13 == 0){
			buttonDiv.innerHTML = buttonDiv.innerHTML + "<br />";
		}

	}
		div2.appendChild(buttonDiv);
}

function button_click(button){
	button.disabled = "true";
	make_guess(button.value);
}

<!-- Handle Win/Loss conditions -->

function hasWon(word){
	try{
		initSearch();
	}catch(err){
	
	}
	initBank();
	initHangman();
}

function hasLost(word){
	try{
		initSearch();
	}catch(err){
	}
	initBank();
	initHangman();
}


function make_guess(guess){
	if(word.indexOf(guess) != -1){
		foundWord(guess);
	}else{
		badGuess(guess);
	}
}

function foundWord(guess){
	//buttonDiv.innerHTML = "FOUND: " + guess + getImageWord();
	var length = goodGuesses.length;
	goodGuesses[length] = guess;
	if(goodGuesses.length == size){
		hasWon(guess);
	}
}

function badGuess(guess){
	//buttonDiv.innerHTML = "NOT FOUND: " + guess + getImageWord();
	guessedWrong();
	var length = badGuesses.length;
	badGuesses[length] = guess;
	if(badGuesses.length == 6){
		hasLost(guess);
	}else{
	}
}

function uniqueSize(){
	var unique = 0;
	var guesses = "";
	
	for(var i = 0; i < word.length; i++){
		if(guesses.indexOf((word.toLowerCase()).charAt(i)) == -1 && word.charAt(i) != " "){
			guesses = guesses + (word.toLowerCase()).charAt(i);
			unique++;
		}
	}
	
	return unique;
}

</script>

</html>